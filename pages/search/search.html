<!--
  Generated template for the Search page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle start>
          <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>Search</ion-title>
    <ion-buttons end>
          <button ion-button (click)="openFilters()">
              <ion-icon name="funnel"
                        [style.color]="usesFilter ? 'red' : 'inherit'"></ion-icon>
          </button>
     </ion-buttons>
  </ion-navbar>

</ion-header>



<ion-content padding>
    <ion-refresher (ionRefresh)="reloadData($event)">
        <ion-refresher-content>
        </ion-refresher-content>
    </ion-refresher>
    <ion-searchbar (keyup.enter)="keyHasBeenPressed($event)" (ionCancel)="onCancel($event)">
    </ion-searchbar>
    <ion-content search>
        <ion-list [virtualScroll]="results">
            <ion-item *virtualItem="let result">
                <ion-thumbnail item-left>
                    <img src="{{result.artworkUrl100}}">
                </ion-thumbnail>
                <h2>{{result.trackName}}</h2>
                <p>
                    {{result.artistName}}<span *ngIf="result.kind === 'song'">
                        {{result.trackCount}} tracks
                    </span>
                </p>

                <ion-icon (click)="goToArtist(result)" name="person" [hidden]="result.kind!=='song'" item-right></ion-icon>
                <ion-icon (click)="openPreview(result)" name="musical-note" [hidden]="result.kind!=='song'" item-right></ion-icon>
                <ion-icon (click)="openPreview(result)" name="film" [hidden]="result.kind!=='feature-movie'" item-right></ion-icon>


                <ion-icon item-right name="person" [hidden]="result.kind !== 'nuse'"></ion-icon>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-content>
